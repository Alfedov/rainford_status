import{ax as t,r as e,o as s,V as i,Y as a,ac as n,W as o,$ as r,a9 as l,aa as d,c as g,a7 as h,a0 as u,a6 as c,ae as m,al as p}from"./vendor.58ebdfd0.js";import{_ as $}from"./index.b0eac695.js";const b={class:"shadow-box"},v={class:"row"},P={key:0,class:"settings-menu col-lg-3 col-md-5"},S={class:"menu-item"},f={class:"settings-content col-lg-9 col-md-7"},y={key:0,class:"settings-content-header"},k={class:"mx-3"};var M=$({data:()=>({show:!0,settings:{},settingsLoaded:!1}),computed:{currentPage(){let e=t().path.split("/"),s=e[e.length-1];return s&&"settings"!==s?s:null},showSubMenu(){return!this.$root.isMobile||!this.currentPage},subMenus(){return{general:{title:this.$t("General")},appearance:{title:this.$t("Appearance")},notifications:{title:this.$t("Notifications")},"monitor-history":{title:this.$t("Monitor History")},security:{title:this.$t("Security")},backup:{title:this.$t("Backup")},about:{title:this.$t("About")}}}},watch:{"$root.isMobile"(){this.loadGeneralPage()}},mounted(){this.loadSettings(),this.loadGeneralPage()},methods:{loadGeneralPage(){this.currentPage||this.$root.isMobile||this.$router.push("/settings/general")},loadSettings(){this.$root.getSocket().emit("getSettings",(t=>{this.settings=t.data,void 0===this.settings.searchEngineIndex&&(this.settings.searchEngineIndex=!1),void 0===this.settings.entryPage&&(this.settings.entryPage="dashboard"),void 0===this.settings.keepDataPeriodDays&&(this.settings.keepDataPeriodDays=180),this.settingsLoaded=!0}))},saveSettings(){this.$root.getSocket().emit("setSettings",this.settings,(t=>{this.$root.toastRes(t),this.loadSettings()}))}}},[["render",function(t,$,M,w,x,_){const D=e("router-link"),G=e("router-view");return s(),i("div",null,[a(o("h1",{class:"mb-3"},r(t.$t("Settings")),513),[[n,x.show]]),o("div",b,[o("div",v,[_.showSubMenu?(s(),i("div",P,[(s(!0),i(l,null,d(_.subMenus,((t,e)=>(s(),g(D,{key:e,to:`/settings/${e}`},{default:h((()=>[o("div",S,r(t.title),1)])),_:2},1032,["to"])))),128))])):u("",!0),o("div",f,[_.currentPage?(s(),i("div",y,r(_.subMenus[_.currentPage].title),1)):u("",!0),o("div",k,[c(G,null,{default:h((({Component:t})=>[c(m,{name:"slide-fade",appear:""},{default:h((()=>[(s(),g(p(t)))])),_:2},1024)])),_:1})])])])])])}],["__scopeId","data-v-d584a8c4"]]);export{M as default};
